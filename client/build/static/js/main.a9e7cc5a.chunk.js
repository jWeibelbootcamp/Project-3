(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{67:function(e,t,n){},69:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(19),i=n.n(r),a=(n(67),n(61)),s=n(6),o=n(1),j=function(){return Object(o.jsx)("section",{id:"hero",children:Object(o.jsxs)("div",{class:"hero-container","data-aos":"zoom-in","data-aos-delay":"100",children:[Object(o.jsx)("h1",{children:"Welcome to Cheesecake Fact'ry"}),Object(o.jsx)("h2",{children:"We provide the best baked goods at an affordable price!"}),Object(o.jsx)("a",{href:"#about",class:"btn-get-started",children:"Get Started"})]})})},d=(n(69),n(70),n(77)),u=n(76),l=n(55),h=[{id:"price_1M9Xq4A0zgGYE8hKjaEdjfu0",name:"Large Cheesecake",price:54.99},{id:"price_1M9Xr4A0zgGYE8hK80wPnIya",name:"Small Cheesecake",price:29.99},{id:"price_1M9XsCA0zgGYE8hKq6tJKx6T",name:"Strawberry Cheesecake",price:59.99},{id:"price_1M9XtRA0zgGYE8hK4ko4s0VO",name:"Carrot Cake",price:34.99},{id:"price_1M9XuNA0zgGYE8hKdKyBhMEZ",name:"Chocolate Chip Cookies",price:6.99},{id:"price_1M9XvJA0zgGYE8hKsRPAOjWn",name:"Coffee",price:4.99}];function b(e){var t=h.find((function(t){return t.id===e}));if(void 0!==t)return t;console.log("Product not found for id: "+e)}var O=n(81),x=n(79),f=n(62),m=n(2),p=n(13),v=n(8),C=Object(c.createContext)({items:[],getProductQuantity:function(){},addOne:function(){},removeOne:function(){},deleteFromCart:function(){},getTotalCost:function(){}});var g=function(e){var t=e.children,n=Object(c.useState)([]),r=Object(v.a)(n,2),i=r[0],a=r[1];function s(e){var t,n=null===(t=i.find((function(t){return t.id===e})))||void 0===t?void 0:t.quantity;return void 0===n?0:n}function j(e){a((function(t){return t.filter((function(t){return t.id!==e}))}))}var d={items:i,getProductQuantity:s,addOne:function(e){var t=s(e);a(0===t?[].concat(Object(p.a)(i),[{id:e,quantity:1}]):i.map((function(t){return t.id===e?Object(m.a)(Object(m.a)({},t),{},{quantity:t.quantity+1}):t})))},removeOne:function(e){1===s(e)?j(e):a(i.map((function(t){return t.id===e?Object(m.a)(Object(m.a)({},t),{},{quantity:t.quantity-1}):t})))},deleteFromCart:j,getTotalCost:function(){var e=0;return i.map((function(t){var n=b(t.id);e+=n.price*t.quantity})),e}};return Object(o.jsx)(C.Provider,{value:d,children:t})};var y=function(e){var t=e.product,n=Object(c.useContext)(C),r=n.getProductQuantity(t.id);return Object(o.jsx)(O.a,{children:Object(o.jsxs)(O.a.Body,{children:[Object(o.jsx)(O.a.Title,{children:t.name}),Object(o.jsxs)(O.a.Text,{children:["$",t.price]}),r>0?Object(o.jsxs)("div",{children:[Object(o.jsxs)(x.a,{as:u.a,children:[Object(o.jsxs)(x.a.Label,{column:"true",sm:"6",children:[" In Cart: ",r," "]}),Object(o.jsxs)(l.a,{sm:"6",children:[Object(o.jsx)(f.a,{sm:"6",onClick:function(){return n.addOne(t.id)},className:"mx-2",children:"+"}),Object(o.jsx)(f.a,{sm:"6",onClick:function(){return n.removeOne(t.id)},className:"mx-2",children:"-"})]})]}),Object(o.jsx)(f.a,{variant:"danger",onClick:function(){return n.deleteFromCart(t.id)},className:"my-2",children:"Remove All"})]}):Object(o.jsx)(f.a,{variant:"primary",onClick:function(){return n.addOne(t.id)},children:" Add To Cart "})]})})};var k=function(){return Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{align:"center",className:"p-3",children:"Welcome, get Shopping!"}),Object(o.jsx)(u.a,{xs:1,md:3,className:"g-4",children:h.map((function(e,t){return Object(o.jsx)(l.a,{align:"center",children:Object(o.jsx)(y,{product:e})},t)}))})]})};var q=function(){return Object(o.jsx)("h1",{children:"Purchase Successful!"})};var T=function(){return Object(o.jsx)("h1",{children:"Stripe payment has been cancelled!"})},S=n(10),A=n(12),E=n(78),w=n(80);var B=function(e){var t=Object(c.useContext)(C),n=e.id,r=e.quantity,i=b(n);return Object(o.jsxs)("div",{children:[Object(o.jsx)("h3",{children:i.name}),Object(o.jsxs)("p",{children:["Qty: ",r]}),Object(o.jsxs)("p",{children:["$",r*i.price]}),Object(o.jsx)(f.a,{size:"sm",onClick:function(){return t.deleteFromCart(n)},children:"Remove"})]})};var P=function(){var e=Object(c.useContext)(C),t=Object(c.useState)(!1),n=Object(v.a)(t,2),r=n[0],i=n[1],a=function(){var t=Object(A.a)(Object(S.a)().mark((function t(){return Object(S.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://localhost:3000/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:e.items})}).then((function(e){return e.json()})).then((function(e){e.url&&window.location.assign(e.url)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s=e.items.reduce((function(e,t){return e+t.quantity}),0);return console.log(e),Object(o.jsx)("div",{children:Object(o.jsxs)(E.a,{bg:"light",expand:"sm",children:[Object(o.jsx)(E.a.Brand,{href:"/",children:"Cheesecake Fact'ry"}),Object(o.jsx)(E.a.Brand,{href:"/about",children:"About"}),Object(o.jsx)(E.a.Brand,{href:"/store",children:"Store"}),Object(o.jsx)(E.a.Brand,{href:"/login",children:"Login"}),Object(o.jsx)(E.a.Toggle,{}),Object(o.jsx)(E.a.Collapse,{className:"justify-content-end",children:Object(o.jsxs)(f.a,{onClick:function(){return i(!0)},children:[" Cart (",s,") "]})}),Object(o.jsxs)(w.a,{show:r,onHide:function(){return i(!1)},children:[Object(o.jsx)(w.a.Header,{closeButton:!0,children:Object(o.jsx)(w.a.Title,{children:"Shopping Cart"})}),Object(o.jsx)(w.a.Body,{children:s>0?Object(o.jsxs)("div",{children:[Object(o.jsx)("p",{children:"In Cart: "}),e.items.map((function(e,t){return Object(o.jsx)(B,{id:e.id,quantity:e.quantity,children:"Total"},t)})),Object(o.jsxs)("h2",{children:["Total: $",e.getTotalCost().toFixed(2)]}),Object(o.jsx)(f.a,{variant:"success",onClick:a,children:"Checkout"})]}):Object(o.jsx)("div",{children:Object(o.jsx)("p",{children:"Your Cart Is Empty!"})})})]})]})})};var z=function(){return Object(o.jsx)(g,{children:Object(o.jsxs)(d.a,{children:[Object(o.jsx)(P,{}),Object(o.jsx)(a.a,{children:Object(o.jsxs)(s.c,{children:[Object(o.jsx)(s.a,{path:"/",element:Object(o.jsx)(j,{})}),Object(o.jsx)(s.a,{path:"/store",element:Object(o.jsx)(k,{})}),Object(o.jsx)(s.a,{path:"success",element:Object(o.jsx)(q,{})}),Object(o.jsx)(s.a,{path:"cancel",element:Object(o.jsx)(T,{})}),Object(o.jsx)(s.a,{path:"store",element:Object(o.jsx)(k,{})})]})})]})})};i.a.render(Object(o.jsx)(z,{}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.a9e7cc5a.chunk.js.map